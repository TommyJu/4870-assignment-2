@page "/create-article"
@rendermode InteractiveServer

@inject ArticleService articleService
@inject NavigationManager navigationManager

<PageTitle>Create Article</PageTitle>

<div class="text-center">
    <form method="POST" @onsubmit="InsertArticle">
        <h1 class="display-4">Create an Article</h1>
            <input type="text" class="form-control" id="title" name="Title" placeholder="Enter a title" @bind="article.Title">
            <textarea class="form-control" id="body" name="Body" placeholder="Write your article here..." rows="10" @bind="article.Body"></textarea>
        <button type="submit" class="btn btn-primary">Post</button>
    </form>
</div>

@code {
    private Article article {get; set;} = new Article();
    private async Task InsertArticle()
    {
        await articleService.InsertArticleAsync(article);
        navigationManager.NavigateTo("/");
    }

}
